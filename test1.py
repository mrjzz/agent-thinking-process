from openai import OpenAI

client = OpenAI(
    api_key="65b0348119a6b858ee16dda43ede5a8c.DFnYvPKSZDO5ciKL",
    base_url="https://open.bigmodel.cn/api/paas/v4/"
)

completion = client.chat.completions.create(
    model="glm-4-flash",
    messages=[
        {
            "role": "user",
            "content": "抓取腾讯新闻"
        },
        {
            "role": "user",
            "content": '<html lang="zh-CN"><head><style class="ariareader ariareader--user-agent" media="screen" id="ariad3d45cf1xc8" data-for="result" isaria="true">.ariafocus{outline:none;}body.useOldFixed [aria-fixedOldHidden=true],.ariaHide{display:none !important;}:focus{outline:none !important;}</style>\n    \n<title>腾讯网-要闻</title>\n<meta name="keywords" content="资讯,新闻,财经,房产,视频,NBA,科技,腾讯网,腾讯,QQ,Tencent">\n<meta name="description" content="腾讯网从2003年创立至今，已经成为集新闻信息，区域垂直生活服务、社会化媒体资讯和产品为一体的互联网媒体平台。腾讯网下设新闻、科技、财经、娱乐、体育、汽车、时尚等多个频道，充分满足用户对不同类型资讯的需求。同时专注不同领域内容，打造精品栏目，并顺应技术发展趋势，推出网络直播等创新形式，改变了用户获取资讯的方式和习惯。">\n<meta name="author" content="腾讯网">\n<meta name="copyright" content="Copyright 1998 - 2025 Tencent. All Rights Reserved">\n<meta property="og:type" content="news">\n\n\n<meta name="baidu-site-verification" content="code-mzfngMK684">\n    <meta charset="utf-8">\n<meta http-equiv="X-UA-Compatible" content="IE=10,chrome=1">\n<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n<link rel="dns-prefetch" href="mat1.gtimg.com">\n<link rel="dns-prefetch" href="i.news.qq.com">\n<link rel="shortcut icon" href="https://mat1.gtimg.com/qqcdn/qqindex2021/favicon.ico">\n<script nomodule="true" src="https://mat1.gtimg.com/qqcdn/qqindex2021/common-static/20240515201444/core3-37-1.min.js"></script>\n<script>\n  try {\n    if (!window.IntersectionObserver) {\n      var observerScript = document.createElement(\'script\');\n      observerScript.src = "https://mat1.gtimg.com/qqcdn/qqindex2021/common-static/20241024141058/intersection-observer-polyfill.js";\n      document.head.appendChild(observerScript);\n    }\n  } catch (error) {}\n</script>\n\n<script>\n  try {\n    if (!Element.prototype.scrollTo) {\n      var scrollScript = document.createElement(\'script\');\n      scrollScript.src = "https://mat1.gtimg.com/qqcdn/qqindex2021/common-static/20241025153001/scroll-behavior-polyfill.js";\n      document.head.appendChild(scrollScript);\n    }\n  } catch (error) {}\n</script>\n<script>\n  try {\n    if (\'scrollRestoration\' in window.history) {\n      window.history.scrollRestoration = \'manual\';\n    }\n  } catch {}\n</script>\n<script>\n  window.channelInfo = {"IS_EDU":false,"IS_SCHEDULE":false,"IS_MEDAL_RANKING":false,"IS_OLYMPIC_MATCH_REPLAY":false,"IS_OLYMPIC_MATCH_HIGHLIGHT":false,"IS_QA_CHANNEL":false,"IS_VIDEO_CHANNEL":false,"IS_GAME_CENTER":false,"IS_CHANNEL2":false,"IS_LOCAL_SITE":false,"IS_AUTHOR_PAGE":false,"IS_CHANNEL":true,"IS_DARK":false,"channelKey":"news","channelType":"channel","channelConfig":{"channelRight":[{"_auto_id":"1","channel_name_en":"news","modules":"{\\"moduleList\\":[{\\"title\\":\\"热点榜\\",\\"id\\":\\"hot_rank_list\\"},{\\"title\\":\\"精选视频\\",\\"id\\":\\"video_album\\",\\"videoType\\":\\"tag\\",\\"videoId\\":\\"aUepxrtchGM=\\",\\"isSticky\\":0},{\\"id\\":\\"daily_paper\\",\\"morningStartTime\\":\\"06:30:00\\",\\"morningEndTime\\":\\"17:59:59\\",\\"morningConfig\\":{\\"tagId\\":\\"aEWqxLtdgmQ=\\",\\"name\\":\\"早报\\",\\"coverImg\\":\\"https://inews.gtimg.com/newsapp_bt/0/1126064421401_7985/0\\"},\\"eveningConfig\\":{\\"tagId\\":\\"bEeox7NdhmM=\\",\\"name\\":\\"晚报\\",\\"coverImg\\":\\"https://inews.gtimg.com/newsapp_bt/0/1126064421397_7981/0\\"}},{\\"title\\":\\"推荐作者\\",\\"id\\":\\"recommend_cp\\",\\"cpList\\":[\\"8QMd2ntV6oAZuDrZ\\",\\"8QMd3ndb7oEauznd\\",\\"8QMW3HxU5Icdvz0=\\",\\"8QMd3Hta64Advz3Z\\",\\"8QMX33xf5YUevTY=\\",\\"8QMd2n1V5YAbvzzf\\",\\"8QMd33de6oYevDs=\\",\\"8QMc339d5I0buzre5gZx\\",\\"8QMf3Hxd5YYYvDff\\",\\"8QMc23pZ7IIZvzzb\\",\\"8QMY3Hxd7YMZuDs=\\",\\"8QMd231c5I0ZsTzR\\",\\"8QMf2nZY64MauTfd\\",\\"8QMZ3XxU64wZuTw=\\",\\"8QMY3Hxd7YIevjs=\\",\\"8QMc339d5IQeuT7b4AZx\\"]},{\\"title\\":\\"下载条\\",\\"id\\":\\"download_banner\\",\\"isSticky\\":1},{\\"title\\":\\"信息流\\",\\"id\\":\\"ad_tuiguang\\",\\"adType\\":\\"info\\",\\"category\\":\\"ad_block\\",\\"path\\":\\"newsChannelTuiGuang\\",\\"isSticky\\":1},{\\"title\\":\\"广告推广位\\",\\"id\\":\\"ad_tuiguang\\",\\"category\\":\\"l_qq_com\\",\\"path\\":\\"QQcom_all_Rectangle-1\\",\\"isSticky\\":1}]}"}],"channelTop":[],"channelNav":[{"_auto_id":"1","active_alien_img":"","alien_img":"","channel_id":"news_news_home","is_local":"0","link":"https://www.qq.com","name_cn":"首页","name_en":"home"},{"_auto_id":"2","active_alien_img":"","alien_img":"","channel_id":"news_news_top","is_local":"0","link":"","name_cn":"要闻","name_en":"news"},{"_auto_id":"3","active_alien_img":"https://inews.gtimg.com/newsapp_bt/0/0122113249149_5991/0","alien_img":"https://inews.gtimg.com/newsapp_bt/0/0122113249149_5991/0","channel_id":"news_news_frwx","is_local":"0","link":"https://news.qq.com/rain/a/UTR2025010900838400","name_cn":"福润万象","name_en":"frwx"},{"_auto_id":"4","active_alien_img":"","alien_img":"","channel_id":"news_news_bj","is_local":"1","link":"","name_cn":"北京","name_en":"bj"},{"_auto_id":"5","active_alien_img":"","alien_img":"","channel_id":"news_news_finance","is_local":"0","link":"","name_cn":"财经","name_en":"finance"},{"_auto_id":"6","active_alien_img":"","alien_img":"","channel_id":"news_news_tech","is_local":"0","link":"","name_cn":"科技","name_en":"tech"},{"_auto_id":"7","active_alien_img":"","alien_img":"","channel_id":"tv","is_local":"0","link":"https://v.qq.com/channel/tv/?ptag=qqnews","name_cn":"电视剧","name_en":"tv"},{"_auto_id":"8","active_alien_img":"","alien_img":"","channel_id":"news_news_qa","is_local":"0","link":"","name_cn":"热问","name_en":"qa"},{"_auto_id":"9","active_alien_img":"","alien_img":"","channel_id":"news_news_ent","is_local":"0","link":"","name_cn":"娱乐","name_en":"ent"},{"_auto_id":"10","active_alien_img":"","alien_img":"","channel_id":"variety","is_local":"0","link":"https://v.qq.com/channel/variety/?ptag=qqnews","name_cn":"综艺","name_en":"variety"},{"_auto_id":"11","active_alien_img":"","alien_img":"","channel_id":"news_news_sports","is_local":"0","link":"","name_cn":"体育","name_en":"sports"},{"_auto_id":"13","active_alien_img":"","alien_img":"","channel_id":"news_news_nba","is_local":"0","link":"","name_cn":"NBA","name_en":"nba"},{"_auto_id":"14","active_alien_img":"","alien_img":"","channel_id":"news_news_world","is_local":"0","link":"","name_cn":"国际","name_en":"world"},{"_auto_id":"15","active_alien_img":"","alien_img":"","channel_id":"news_news_mil","is_local":"0","link":"","name_cn":"军事","name_en":"milite"},{"_auto_id":"16","active_alien_img":"","alien_img":"","channel_id":"news_news_auto","is_local":"0","link":"","name_cn":"汽车","name_en":"auto"},{"_auto_id":"17","active_alien_img":"","alien_img":"","channel_id":"news_news_house","is_local":"0","link":"","name_cn":"房产","name_en":"house"},{"_auto_id":"18","active_alien_img":"","alien_img":"","channel_id":"news_news_edu","is_local":"0","link":"","name_cn":"教育","name_en":"edu"},{"_auto_id":"19","active_alien_img":"","alien_img":"","channel_id":"news_news_antip","is_local":"0","link":"","name_cn":"健康","name_en":"health"},{"_auto_id":"20","active_alien_img":"","alien_img":"","channel_id":"news_news_video","is_local":"0","link":"","name_cn":"视频","name_en":"video"},{"_auto_id":"21","active_alien_img":"","alien_img":"","channel_id":"news_news_game","is_local":"0","link":"","name_cn":"游戏","name_en":"games"},{"_auto_id":"22","active_alien_img":"","alien_img":"","channel_id":"news_news_nchupin","is_local":"0","link":"","name_cn":"眼界","name_en":"chupin"},{"_auto_id":"24","active_alien_img":"","alien_img":"","channel_id":"news_news_football","is_local":"0","link":"","name_cn":"足球","name_en":"football"},{"_auto_id":"25","active_alien_img":"","alien_img":"","channel_id":"news_news_kepu","is_local":"0","link":"","name_cn":"科学","name_en":"kepu"},{"_auto_id":"26","active_alien_img":"","alien_img":"","channel_id":"news_news_digi","is_local":"0","link":"","name_cn":"数码","name_en":"digi"},{"_auto_id":"28","active_alien_img":"","alien_img":"","channel_id":"ymzx","is_local":"0","link":"https://gamer.qq.com/v2/cloudgame/game/96897?ichannel=txxwpc0Ftxxwpc1","name_cn":"元梦之星","name_en":"news_news_ymzx"},{"_auto_id":"31","active_alien_img":"","alien_img":"","channel_id":"movie","is_local":"0","link":"https://v.qq.com/channel/movie/?ptag=qqnews","name_cn":"电影","name_en":"movie"},{"_auto_id":"32","active_alien_img":"","alien_img":"","channel_id":"news_news_esport","is_local":"0","link":"","name_cn":"电竞","name_en":"esport"},{"_auto_id":"34","active_alien_img":"","alien_img":"","channel_id":"news_news_history","is_local":"0","link":"","name_cn":"历史","name_en":"history"},{"_auto_id":"35","active_alien_img":"","alien_img":"","channel_id":"news_news_baby","is_local":"0","link":"","name_cn":"育儿","name_en":"baby"},{"_auto_id":"36","active_alien_img":"","alien_img":"","channel_id":"wwqy","is_local":"0","link":"https://val.qq.com/act/a20230801download/index.html?adtag=2473","name_cn":"无畏契约","name_en":"news_news_wwqy"},{"_auto_id":"37","active_alien_img":"","alien_img":"","channel_id":"cloud_gamer","is_local":"0","link":"https://gamer.qq.com/?ichannel=txxwpc0Ftxxwpc1","name_cn":"云游戏","name_en":"cloud_gamer"},{"_auto_id":"38","active_alien_img":"","alien_img":"","channel_id":"news_news_lic","is_local":"0","link":"","name_cn":"理财","name_en":"finance_licai"},{"_auto_id":"39","active_alien_img":"","alien_img":"","channel_id":"news_news_istock","is_local":"0","link":"","name_cn":"股票","name_en":"finance_stock"},{"_auto_id":"40","active_alien_img":"","alien_img":"","channel_id":"ren_min_shi_pin","is_local":"0","link":"https://news.qq.com/omn/author/8QMd3Hld74cbujbY?tab=om_video","name_cn":"人民视频","name_en":"ren_min_shi_pin"},{"_auto_id":"41","active_alien_img":"","alien_img":"","channel_id":"news_news_weather","is_local":"0","link":"https://tianqi.qq.com/index.htm","name_cn":"天气","name_en":"weather"}],"channelNav2":[{"_auto_id":"1","channel1_name_en":"edu","channel_id":"news_news_college","link":"","name_cn":"高校","name_en":"college"},{"_auto_id":"3","channel1_name_en":"edu","channel_id":"news_news_gaokao","link":"","name_cn":"高考","name_en":"gaokao"},{"_auto_id":"7","channel1_name_en":"edu","channel_id":"news_news_abroad","link":"","name_cn":"出国","name_en":"abroad"},{"_auto_id":"8","channel1_name_en":"edu","channel_id":"news_news_zxx","link":"","name_cn":"素质教育","name_en":"zxx"},{"_auto_id":"9","channel1_name_en":"edu","channel_id":"news_news_'
        },
        {
            "role": "user",
            "content": "总结上一条prompt内容"
        }
    ]
)
print(completion.choices[0].message.content)